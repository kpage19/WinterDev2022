[{"/Users/jenny/Desktop/Code/study-buddies-test/src/index.js":"1","/Users/jenny/Desktop/Code/study-buddies-test/src/App.js":"2","/Users/jenny/Desktop/Code/study-buddies-test/src/firebase-config.js":"3","/Users/jenny/Desktop/Code/study-buddies-test/src/pages/Profile.js":"4","/Users/jenny/Desktop/Code/study-buddies-test/src/pages/Login.js":"5","/Users/jenny/Desktop/Code/study-buddies-test/src/pages/Home.js":"6"},{"size":196,"mtime":1647482249417,"results":"7","hashOfConfig":"8"},{"size":1187,"mtime":1647487484632,"results":"9","hashOfConfig":"8"},{"size":686,"mtime":1647585336199,"results":"10","hashOfConfig":"8"},{"size":3450,"mtime":1647582993392,"results":"11","hashOfConfig":"8"},{"size":701,"mtime":1647484550391,"results":"12","hashOfConfig":"8"},{"size":2081,"mtime":1647585266749,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","suppressedMessages":"16","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1dey8k5",{"filePath":"17","messages":"18","suppressedMessages":"19","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"20","usedDeprecatedRules":"21"},{"filePath":"22","messages":"23","suppressedMessages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","suppressedMessages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"21"},{"filePath":"29","messages":"30","suppressedMessages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},{"filePath":"32","messages":"33","suppressedMessages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/jenny/Desktop/Code/study-buddies-test/src/index.js",[],[],"/Users/jenny/Desktop/Code/study-buddies-test/src/App.js",["35"],[],"import './App.css';\nimport { BrowserRouter as Router, Routes, Route, Link } from \"react-router-dom\";\nimport React, { useEffect, useState } from \"react\";\nimport { auth } from \"./firebase-config\"\nimport { signOut } from 'firebase/auth';\nimport Login from \"./pages/Login\";\nimport Profile from \"./pages/Profile\";\nimport Home from \"./pages/Home\";\n\nfunction App() {\n  \n  const [isAuth, setIsAuth] = useState(localStorage.getItem(\"isAuth\"));\n\n  const signUserOut = () => {\n    signOut(auth).then(() => {\n      localStorage.clear();\n      setIsAuth(false);\n      window.location.pathname = \"/\";\n    });\n  };\n  \n  return (\n    <Router>\n      <nav>\n        {!isAuth ? (\n          <div></div>\n        ) : (\n          <>\n            <Link to=\"/home\"> Home </Link>\n            <Link to=\"/profile\"> My Profile </Link>\n            <button onClick={signUserOut}> Log Out </button>\n          </>\n        )}\n      </nav>\n      \n      <Routes>\n        <Route path=\"/\" element={<Login setIsAuth={setIsAuth}/>} />\n        <Route path=\"/profile\" element={<Profile isAuth={isAuth}/>} />\n        <Route path=\"/home\" element={<Home isAuth={isAuth}/>} />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n",["36","37"],"/Users/jenny/Desktop/Code/study-buddies-test/src/firebase-config.js",[],[],"/Users/jenny/Desktop/Code/study-buddies-test/src/pages/Profile.js",["38","39","40","41","42","43","44","45","46"],[],"import React, { useEffect, useState } from 'react';\nimport { db, auth } from \"../firebase-config\";\nimport { useNavigate } from \"react-router-dom\";\nimport { doc, setDoc, collection, getDocs, set } from \"firebase/firestore\";\n\nfunction Profile({ isAuth }) {\n  \n  let nagivate = useNavigate();\n  const userColRef = collection(db, \"users\");\n  const [classes, setClasses] = useState(\"\");\n  const [bio, setBio] = useState(\"\");\n  const [hasProfile, setHasProfile] = useState(true);\n  const [edit, setEdit] = useState(false);\n\n  // If user not authenticated, redirect to login page\n  useEffect(() => {\n    if (!isAuth) {\n      nagivate(\"/\");\n    }\n  }, []);\n\n  // Retrieve profile info when page loads\n  useEffect(() => {\n    getDocs(userColRef)\n    .then((snapshot) => {\n      let hasProfileTemp = false; \n      snapshot.docs.forEach((doc) => {\n        if (doc.id == auth.currentUser.uid) {\n          document.getElementById(\"displayClasses\").innerHTML = doc.data().classes;\n          document.getElementById(\"displayBio\").innerHTML = doc.data().bio;\n          hasProfileTemp = true;\n        }\n      });\n      if (!hasProfileTemp) { setHasProfile(false); }\n    })\n    .catch(err => {\n      console.log(err);\n    });\n  }, []);\n\n  // Update profile\n  const updateProfile = async () => {\n    // Add/update to Cloud Firestore\n    await setDoc(doc(db, \"users\", auth.currentUser.uid), {\n      classes: document.getElementById(\"classesInput\").value,\n      bio: document.getElementById(\"bioInput\").value,\n      name: auth.currentUser.displayName\n    });\n\n    // Retrieve profile info when updated\n    getDocs(userColRef)\n    .then((snapshot) => {\n      snapshot.docs.forEach((doc) => {\n        if (doc.id == auth.currentUser.uid) {\n          document.getElementById(\"displayClasses\").innerHTML = doc.data().classes;\n          document.getElementById(\"displayBio\").innerHTML = doc.data().bio;\n        }\n      });\n    })\n    .catch(err => {\n      console.log(err);\n    }); \n    // Hide 'Edit Profile' section\n    setHasProfile(true);\n    setEdit(false);\n  };\n\n  // UI\n  return (\n    <div className=\"profilePage\">      \n      <div className=\"displayInfo\">\n        <h1>My Profile</h1>\n        <div>\n          <b>My Classes</b>\n          {hasProfile ? (\n            <div id=\"displayClasses\"></div>\n          ) : (\n            <div><i>Add your classes here!</i></div>\n          )}\n        </div>\n        <br/>\n        <div>\n          <b>About Me</b>\n          {hasProfile ? (\n            <div id=\"displayBio\"></div>\n          ) : (\n            <div><i>Add your bio here!</i></div>\n          )}\n        </div>\n        <br/>\n      </div>\n      \n      <button onClick={() => setEdit(true)}>Edit Profile</button>\n      \n      {/* Show 'Edit Profile' section if user clicked button */}\n      {edit && \n        <div className=\"editInfo\">\n          <br/>\n          <div className=\"InputGroup\">\n            <label>Classes: </label>\n            <br/>\n            <input\n              placeholder=\"CSE 12\"\n              id=\"classesInput\"\n            />\n          </div>\n          \n          <div className=\"InputGroup\">\n            <label>About Me:</label>\n            <br/>\n            <textarea\n              placeholder=\"About me...\"\n              id=\"bioInput\"\n            />\n          </div>\n          <button onClick={updateProfile}>Save</button>\n          <button onClick={() => setEdit(false)}>Cancel</button>\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default Profile;","/Users/jenny/Desktop/Code/study-buddies-test/src/pages/Login.js",[],[],"/Users/jenny/Desktop/Code/study-buddies-test/src/pages/Home.js",["47","48","49"],[],{"ruleId":"50","severity":1,"message":"51","line":3,"column":17,"nodeType":"52","messageId":"53","endLine":3,"endColumn":26},{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","replacedBy":"57"},{"ruleId":"50","severity":1,"message":"58","line":4,"column":44,"nodeType":"52","messageId":"53","endLine":4,"endColumn":47},{"ruleId":"50","severity":1,"message":"59","line":10,"column":10,"nodeType":"52","messageId":"53","endLine":10,"endColumn":17},{"ruleId":"50","severity":1,"message":"60","line":10,"column":19,"nodeType":"52","messageId":"53","endLine":10,"endColumn":29},{"ruleId":"50","severity":1,"message":"61","line":11,"column":10,"nodeType":"52","messageId":"53","endLine":11,"endColumn":13},{"ruleId":"50","severity":1,"message":"62","line":11,"column":15,"nodeType":"52","messageId":"53","endLine":11,"endColumn":21},{"ruleId":"63","severity":1,"message":"64","line":20,"column":6,"nodeType":"65","endLine":20,"endColumn":8,"suggestions":"66"},{"ruleId":"67","severity":1,"message":"68","line":28,"column":20,"nodeType":"69","messageId":"70","endLine":28,"endColumn":22},{"ruleId":"63","severity":1,"message":"71","line":39,"column":6,"nodeType":"65","endLine":39,"endColumn":8,"suggestions":"72"},{"ruleId":"67","severity":1,"message":"68","line":54,"column":20,"nodeType":"69","messageId":"70","endLine":54,"endColumn":22},{"ruleId":"50","severity":1,"message":"73","line":3,"column":14,"nodeType":"52","messageId":"53","endLine":3,"endColumn":18},{"ruleId":"50","severity":1,"message":"74","line":4,"column":31,"nodeType":"52","messageId":"53","endLine":4,"endColumn":34},{"ruleId":"63","severity":1,"message":"64","line":18,"column":6,"nodeType":"65","endLine":18,"endColumn":8,"suggestions":"75"},"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","no-native-reassign",["76"],"no-negated-in-lhs",["77"],"'set' is defined but never used.","'classes' is assigned a value but never used.","'setClasses' is assigned a value but never used.","'bio' is assigned a value but never used.","'setBio' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'isAuth' and 'nagivate'. Either include them or remove the dependency array.","ArrayExpression",["78"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","React Hook useEffect has a missing dependency: 'userColRef'. Either include it or remove the dependency array.",["79"],"'auth' is defined but never used.","'doc' is defined but never used.",["80"],"no-global-assign","no-unsafe-negation",{"desc":"81","fix":"82"},{"desc":"83","fix":"84"},{"desc":"81","fix":"85"},"Update the dependencies array to be: [isAuth, nagivate]",{"range":"86","text":"87"},"Update the dependencies array to be: [userColRef]",{"range":"88","text":"89"},{"range":"90","text":"87"},[644,646],"[isAuth, nagivate]",[1213,1215],"[userColRef]",[499,501]]